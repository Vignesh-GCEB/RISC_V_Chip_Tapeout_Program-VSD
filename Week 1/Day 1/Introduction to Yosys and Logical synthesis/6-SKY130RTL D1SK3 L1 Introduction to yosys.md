# Introduction to Synthesis with Yosys

Note: The provided source is a text transcript and does not include timestamps. Therefore, references to specific video times cannot be included.

## Chapter 1: Introduction to Synthesis with Yosys

### 1.1 The Role of a Synthesizer
• Definition: A synthesizer is a tool used to convert a Register-Transfer Level (RTL) design into a netlist.
• Course Tool: The synthesizer used in this course is Yosys.

### 1.2 The Synthesis Flow using Yosys
The fundamental process involves taking a design and a standard cell library to produce a gate-level netlist.

• Inputs:
    ◦ Design File: The Verilog file containing the RTL description of the circuit.
    ◦ .lib File: The Liberty file which contains the definition of the standard cells (e.g., AND, OR, NOT gates) that the synthesizer can use.

• Process:
    ◦ The design file and the .lib file are provided as inputs to the Yosys synthesizer.

• Output:
    ◦ Netlist: A Verilog file that represents the original design purely in terms of the standard cells defined in the .lib file.

### 1.3 Key Yosys Commands
The basic sequence of commands to perform synthesis in Yosys is as follows:

• read_verilog: This command is used to read the input design file.
• read_liberty: This command reads the .lib file, providing Yosys with the available standard cells.
• write_verilog: This command executes the synthesis and writes the resulting netlist to an output file.

## Chapter 2: Synthesis Verification

### 2.1 The Importance of Verification
It is crucial to verify the output of the synthesis process to ensure its correctness.

• Purpose: To confirm that the synthesis tool has not introduced errors ("messed up with my design") and that the designer has not unintentionally damaged the design during the process.
• Goal: To prove that the generated netlist is a true and functionally equivalent representation of the original RTL design.

### 2.2 The Verification Flow
The verification process involves simulating the generated netlist and comparing its output to the original RTL simulation results.

• Step 1: Simulation Setup
    ◦ Netlist: The output file generated by Yosys.
    ◦ Test Bench: The same test bench used for the original RTL simulation is used again. A new test bench is not required.
    ◦ Simulator: A Verilog simulator, such as Icarus Verilog (iverilog), is used to run the simulation.

• Step 2: Generating Waveforms
    ◦ The simulation produces a Value Change Dump (.vcd) file as its output.

• Step 3: Analysis
    ◦ The .vcd file is loaded into a waveform viewer, like GTKWave, to observe the circuit's behaviour and output stimulus.

### 2.3 The "Golden Rule" of Verification
• Core Principle: The output observed from simulating the netlist must be identical to the output observed from the original RTL simulation.
• Quote: "Kindly note, this stimulus should be same as output observed during RTL simulation this should be same".

### 2.4 Reusability of the Test Bench
A key advantage in the verification flow is the ability to reuse the RTL test bench for the netlist simulation.

• Reason: The primary inputs and primary outputs of the design remain unchanged between the RTL code and the synthesised netlist.
• Conclusion: Since the design's interface is the same, the original test bench, which stimulates these inputs and observes these outputs, can be used without any modification.
